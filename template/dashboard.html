{% extends 'home.html'%}
{% block body %}
   <main id="main">
    <div class="row" style="background-color: white;">
        <div class="col" style="background-color: rgb(229, 232, 244); margin-bottom: 50px; padding-right: 10px; border-radius: 10px;">
           <a> STATISTICS
           </a>
      <!-- Pie Chart -->
      <canvas id="pieChart" style="max-height: 300px;"></canvas>
      <script>
        document.addEventListener("DOMContentLoaded", () => {
          new Chart(document.querySelector('#pieChart'), {
            type: 'pie',
            data: {
              labels: [
                'red',
                'Blue',
                'Yellow'
              ],
              datasets: [{
                label: 'My First Dataset',
            
                data: [300, 50, 100],
                backgroundColor: [
                  'rgb(255, 99, 132)',
                  'rgb(54, 162, 235)',
                  'rgb(255, 205, 86)'
                ],
                hoverOffset: 4
              }]
            }
          });
        });
      </script>
      </div>
      <div class="col" style="   margin-bottom: 50px; padding-left: 10px;">
        <ol class="list-group list-group-numbered">
            <li class="list-group-item d-flex justify-content-between align-items-start">
              <div class="ms-2 me-auto">
                <div class="fw-bold">Subheading</div>
                Content for list item
              </div>
              <span class="badge text-bg-primary rounded-pill">14</span>
            </li>
            <li class="list-group-item d-flex justify-content-between align-items-start">
              <div class="ms-2 me-auto">
                <div class="fw-bold">Subheading</div>
                Content for list item
              </div>
              <span class="badge text-bg-primary rounded-pill">14</span>
            </li>
            <li class="list-group-item d-flex justify-content-between align-items-start">
              <div class="ms-2 me-auto">
                <div class="fw-bold">Subheading</div>
                Content for list item
              </div>
              <span class="badge text-bg-primary rounded-pill">14</span>
            </li>
          </ol>
    </div>
      </div>

      <div class="row">
        <div class="col">
         
        </div>
        
        <div class="col">
          
            <!-- Canvas element to render the chart -->
            <canvas id="incomeChart" width="400" height="200"></canvas>

            <script>
              var ctx = document.getElementById('incomeChart').getContext('2d');
              var chart = new Chart(ctx, {
                  type: 'bar', // Set chart type as bar
                  data: {
                      labels: {{ month_labels|safe }}, // Use Django template tag for security
                      datasets: [{
                          label: 'Total Income',
                          backgroundColor: 'rgba(75, 192, 192, 0.2)',
                          borderColor: 'rgba(75, 192, 192, 1)',
                          data: {{ income_values|safe }},
                      }]
                  },
                  options: {
                      scales: {
                          yAxes: [{
                              ticks: {
                                  beginAtZero: true
                              }
                          }]
                      }
                  }
              });
          </script>
          <!-- JavaScript to render the chart -->
          
          
      
    </script>
      <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
      <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js"></script>
   </main>
{% endblock %}